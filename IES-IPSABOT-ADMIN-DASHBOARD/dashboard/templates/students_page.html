{% extends 'base.html' %}


{% block title %}
    STUDENTS
{% endblock %}

{% block content %}
    <table id="studentsTable"
           class="table table-striped table-hover table-responsive-sm table-responsive-md table-responsive-lg mx-2">
        <thead>
        <tr class="bg-primary text-light">
            <th scope="col">No.</th>
            <th scope="col">Chat-ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Branch</th>
            <th scope="col">Year</th>
            <th scope="col">Subscribed On (UTC)</th>
        </tr>
        </thead>
        <tbody>
        {% if students is none or students|length == 0 %}
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        {% else %}
            {% for student in students %}
                <tr>

                    <td>{{ loop.index }}</td>
                    <td>{{ student['chat_id'] }}</td>
                    <td>{{ student['first_name'] }}</td>
                    <td>{{ student['last_name'] }}</td>
                    <td>{{ student['branch'] }}</td>
                    <td>{{ student['year'] }}</td>
                    <td>{{ student['created_at'] }}</td>
                </tr>
            {% endfor %}
        {% endif %}
        </tbody>
    </table>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        #studentsTable a.btn:hover {
            transition: all 0.3s ease-in;
            transform: scale(1.1);
        }

        input[type="search"] {
            margin-bottom: 1rem;
        }

        td {
            text-transform: capitalize;
        }
    </style>


{% endblock %}

{% block plugin_js %}
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
{% endblock %}

{% block custom_js %}
    <script>
        $(document).ready(function () {
            $('#studentsTable').DataTable();
        });
    </script>

{% endblock %}